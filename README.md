# 미드라이너 데이터 전처리

## 1. 개요
본 프로젝트는 리그 오브 레전드(League of Legends)에서 미드라이너의 실력을 평가하고, 이를 바탕으로 승패를 예측하는 모델을 구축하는 프로젝트이다. 미드라이너의 라인전 전후 데이터를 활용하여 승리 확률을 예측할 수 있는 실력 지표를 산출하고, 이를 통해 승패 예측 모델을 개선할 수 있는 방법을 제시한다.

## 2. 데이터 전처리
### 2.1 예외처리 및 미드라이너 매치 추출
final_target_data.json 파일에서 게임 데이터를 읽어온 후 결측값이나 불완전한 데이터를 처리하였다. 데이터에는 미드라이너와 상대 미드라이너의 게임 내 여러 지표가 포함되어 있으며 게임 ID, 미드라이너 ID, 상대 미드라이너 ID 등을 기반으로 매치가 추출되었다. 예를 들어 미드라이너와 상대방 미드라이너의 킬 비율, 사망 비율, 어시스트 비율 등을 계산하여 격차를 구하였다.

### 2.2 라인전 전후 구분
게임의 라인전 전과 라인전 후 데이터를 구분하기 위해 게임 내 라인전 시작 시간을 기준으로 at14와 af14 지표를 구분하였다. at14는 라인전 전의 14분 동안의 데이터를 포함하고 af14는 라인전 후의 데이터를 포함한다. 이를 통해 미드라이너의 라인전 전후 성능 차이를 분석할 수 있다.

### 2.3 격차 및 비율 데이터 산출
미드라이너와 상대방 미드라이너 간의 격차와 비율을 산출하였다. 각 지표에 대해 미드라이너와 상대 미드라이너 간의 차이를 계산하여, 미드라이너가 게임 내에서 얼마나 우위를 점하고 있는지를 평가하였다. 예를 들어, cs_gap, gold_gap, kda_gap와 같은 지표를 사용하여 격차를 계산하였다.

- x = df[combat_at14]
- y = df['targetWin'].astype(int)

이렇게 추출된 격차 데이터를 통해 미드라이너의 성과를 간단한 테이블 형태로 가공하여 분석할 수 있었다.

### 2.4 데이터 가공
전처리된 데이터는 x 변수로 미드라이너의 라인전 전 지표들을 포함하고, y는 승패 여부(targetWin)를 포함하여 분류 문제로 변환되었다. 데이터는 모델 학습에 사용되기 전에 정규화 또는 표준화를 적용할 수 있다.

## 3. 미드라이너 실력 지표 산출 및 평가
### 3.1 라인전 이전 19개 지표와 이후 19개 지표
라인전 전과 라인전 후의 데이터를 각각 19개 지표로 나누어 미드라이너 실력을 평가하기 위한 중요한 변수들을 추출하였다. 각 지표는 게임 내 미드라이너의 공격력, 방어력, 경제적 성과 등을 포함하고 있다. 이를 바탕으로 승리 확률을 높이는 특성들이 무엇인지 분석하였다.

### 3.2 승리 확률을 예측하는 데이터 항목 추출
미드라이너 실력 지표를 바탕으로 가장 승리 확률을 높게 예측하는 항목을 추출하였다. 이를 위해 선형 회귀 모델을 사용하여 각 지표가 승패 예측에 미치는 영향을 분석하였다. combat_at14와 combat_af14 리스트에 포함된 지표들을 사용하여 가장 중요한 변수를 찾아냈다. 예를 들어, CS 차이, 골드 차이, KDA 차이는 승패 예측에 중요한 영향을 미친다는 결과가 나왔다.

### 3.3 데이터 항목에 대한 설명
각 데이터 항목은 미드라이너의 라인전 전후 성과를 나타내며 게임의 승패와 어떻게 연결되는지 설명하였다. 예를 들어 CS 차이는 미드라이너가 상대 미드라이너보다 더 많은 미니언을 처치했을 때 우위에 있음을 나타내며 골드 차이는 경제적인 우위를 의미한다. KDA 차이는 미드라이너가 얼마나 효과적으로 싸움을 이끌었는지 평가하는 지표이다.

## 4. 승패 예측 정확도 계산
### 4.1 모델 훈련
LinearRegression 모델을 사용하여 미드라이너의 성과 지표와 승패 간의 관계를 학습시켰다. 모델은 라인전 전 지표를 입력으로 받아 승패 여부를 예측하였다. 예측된 값은 0.5 이상의 확률을 승리, 그 이하는 패배로 분류되었다.

### 4.2 정확도 및 AUROC 평가
모델의 정확도(Accuracy)와 AUROC를 평가하여, 모델이 승패를 얼마나 잘 예측하는지 측정하였다. 정확도는 예측된 승패와 실제 승패를 비교하여 평가하였고, AUROC는 이진 분류 문제에서 모델의 성능을 평가하는 지표로 사용되었다.

## 5. 결과 및 향후 개선 사항
### 5.1 모델 평가
본 모델은 선형 회귀 모델을 사용하여 승패 예측을 시도하였다. 모델의 정확도와 AUROC는 각각 XX%와 YY%로 평가되었으며 미드라이너의 라인전 전후 지표들이 승패 예측에 중요한 영향을 미친다는 것을 확인할 수 있었다.

## 6. 결론
미드라이너 실력 지표를 분석하고 이를 바탕으로 승패 예측 모델을 구축하는 방법을 제시하였다. 미드라이너의 라인전 전후 성과를 평가하여 승패 예측에 중요한 지표를 도출하였다. 모델의 성능을 향상시키기 위해서는 로지스틱 회귀 모델이나 다양한 머신러닝 알고리즘을 실험할 수 있으며 향후 개선 사항을 반영하여 더 정확한 예측 모델을 개발할 수 있다.
